---
title: 'QR codes'
description: 'How Safepay Raast creates static and dynamic QR codes.'
---

Safepay lets you issue QR codes that customers can scan with their banking apps. Static codes are reusable, while dynamic codes embed order-level metadata.

## Static vs dynamic

| Attribute | Static QR | Dynamic QR |
| --- | --- | --- |
| Reusability | Unlimited | Single use |
| Encoded amount | Optional (usually omitted) | Optional (per order) |
| Encoded order metadata | No | Yes (order ID, request ID) |
| Typical usage | Printed signage, countertop displays | POS terminals, e-commerce checkouts |

## Create a static QR

Use this when you want a reusable QR tied to a single aggregator merchant.

```bash
curl --request POST "{{base_url}}/v1/aggregators/{{aggregator_id}}/qrs" \
  --header "X-SFPY-AGGREGATOR-SECRET-KEY: {{secret_key}}" \
  --header "Content-Type: application/json" \
  --data '{
    "type": "STATIC",
    "aggregator_merchant_identifier": "{{aggregator_merchant_identifier}}",
    "request_id": "{{request_id}}"
  }'
```

Key fields:

- `type`: `STATIC`
- `aggregator_merchant_identifier`: token returned when you created the merchant
- `request_id`: UUID to guarantee idempotency on retries

Response payload:

```json
{
  "api_version": "v1",
  "data": {
    "token": "qr_4076ad61-75cf-44a3-97a1-b66643ea3bf2",
    "code": "000201010211...",
    "type": "STATIC",
    "aggregator_merchant_id": "am_be454a50-7612-4dc6-a97e-284ebbe7ae93",
    "created_at": "2025-04-28T10:26:48Z"
  }
}
```

Render `data.code` using your preferred QR generator and display it wherever customers need to pay.

## Create a dynamic QR

Dynamic codes embed transaction metadata so each scan maps to a unique order.

```bash
curl --request POST "{{base_url}}/v1/aggregators/{{aggregator_id}}/qrs" \
  --header "X-SFPY-AGGREGATOR-SECRET-KEY: {{secret_key}}" \
  --header "Content-Type: application/json" \
  --data '{
    "type": "DYNAMIC",
    "aggregator_merchant_identifier": "{{aggregator_merchant_identifier}}",
    "order_id": "ORDER-4921",
    "request_id": "{{request_id}}",
    "amount": 7500,
    "expiry_in_minutes": 180
  }'
```

Additional fields:

- `order_id`: echoed in webhook payloads for reconciliation
- `amount`: optional integer in paisa (omit to let customer choose)
- `expiry_in_minutes`: optional window before the QR expires; defaults to 180

## Best practices

- Store the QR `token` so you can fetch or delete it later.
- Use [`GET /v1/aggregators/{{aggregator_id}}/qrs/{{qr_id}}/payments`](/api-reference#get-/v1/aggregators/-raast-aggregator-id-/qrs/-qr-id-/payments) to list transactions created from a QR.
- Rotate dynamic QRs for each checkout to avoid reuse attacks.
- Pair static QRs with signage that instructs customers to add invoice numbers in the memo field for easier reconciliation.
