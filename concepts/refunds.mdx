---
title: 'Refunds'
description: 'Issue refunds for settled Raast payments.'
---

Use refunds to return funds for payments that have reached `P_SETTLED`. Requests are idempotent and must reference the original payment token.

## Create a refund

```bash
curl --request POST "{{base_url}}/v1/aggregators/{{aggregator_id}}/refunds" \
  --header "X-SFPY-AGGREGATOR-SECRET-KEY: {{secret_key}}" \
  --header "Content-Type: application/json" \
  --data '{
    "request_id": "{{request_id}}",
    "payment_id": "{{payment_token}}",
    "amount": 500,
    "reason": "CustomerRequest",
    "debitor_iban": "PK12ALFH0031001006540005"
  }'
```

### Body fields

| Field | Type | Required? | Notes |
| --- | --- | --- | --- |
| `request_id` | string | Yes | UUID to guarantee idempotency. |
| `payment_id` | string | Yes | Token from the original payment response. |
| `amount` | integer | Yes | Amount in paisa; cannot exceed the settled payment amount. |
| `reason` | string | Yes | One of `TechnicalProblem`, `CustomerRequest`, `FraudDetected`, `DuplicatePayment`. |
| `debitor_iban` | string | Yes | IBAN that received the original payment. |
| `addtl_info` | string | Optional | Free-form text that appears in audit logs. |

### Sample response

```json
{
  "api_version": "v1",
  "data": {
    "id": "rf_8a0f2e1b7a134d52a3429db3f4fa21e7",
    "payment_id": "{{payment_token}}",
    "amount": 500,
    "status": "PENDING",
    "reason": "CustomerRequest",
    "request_id": "{{request_id}}",
    "created_at": "2025-08-06T13:00:00Z"
  }
}
```

Refunds progress from `PENDING` to either `SUCCESS` or `FAILED`. Poll `GET /v1/aggregators/{{aggregator_id}}/refunds/{{refund_token}}` or rely on webhooks to confirm completion.

## Best practices

- Generate a fresh `request_id` per refund attempt and reuse it only when retrying the same intent.
- Validate the original payment status (`P_SETTLED`) before sending the refund.
- Store the refund token for reconciliation and customer support workflows.
