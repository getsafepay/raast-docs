---
title: 'Create static QR'
description: 'Generate a reusable QR code tied to a Raast merchant.'
---

Static QR codes are reusable. They identify your aggregator merchant but leave amount and payer details open, making them ideal for countertop displays and printed invoices.

## Flow summary

1. Capture the `aggregator_merchant_identifier` for the location or business line.
2. Call `POST /v1/aggregators/{{aggregator_id}}/qrs` with `type: STATIC`.
3. Render the returned `data.code` and share it digitally or physically.
4. Reconcile payments by matching webhook payloads or listing QR payments.

## Static QR

<Tabs>
  <Tab title="Request Fields">

<ParamField path="type" type="string" required>
  Set to `STATIC` for reusable codes.
</ParamField>
<ParamField path="aggregator_merchant_identifier" type="string" required>
  Token returned from merchant creation (`data.token`).
</ParamField>
<ParamField path="request_id" type="string">
  Recommended to prevent duplicate QR creation on retries.
</ParamField>

  </Tab>
  <Tab title="API Example">

<CodeGroup>

```bash cURL
curl --request POST "{{base_url}}/v1/aggregators/{{aggregator_id}}/qrs" \
  --header "X-SFPY-AGGREGATOR-SECRET-KEY: {{secret_key}}" \
  --header "Content-Type: application/json" \
  --data '{
    "type": "STATIC",
    "aggregator_merchant_identifier": "{{aggregator_merchant_identifier}}",
    "request_id": "{{request_id}}"
  }'
```

```typescript TypeScript
const aggregatorMerchantIdentifier = process.env.SAFEPAY_AGGREGATOR_MERCHANT_IDENTIFIER;
if (!aggregatorMerchantIdentifier) {
  throw new Error('Missing SAFEPAY_AGGREGATOR_MERCHANT_IDENTIFIER');
}

const staticQrResponse = await fetch(
  `${process.env.SAFEPAY_BASE_URL}/v1/aggregators/${process.env.SAFEPAY_AGGREGATOR_ID}/qrs`,
  {
    method: 'POST',
    headers: {
      'Content-Type': 'application/json',
      'X-SFPY-AGGREGATOR-SECRET-KEY': process.env.SAFEPAY_SECRET_KEY ?? '',
    },
    body: JSON.stringify({
      type: 'STATIC',
      aggregator_merchant_identifier: aggregatorMerchantIdentifier,
      request_id: crypto.randomUUID(),
    }),
  },
);

if (!staticQrResponse.ok) {
  const errorPayload = await staticQrResponse.json();
  throw new Error(`Static QR failed: ${staticQrResponse.status} ${errorPayload.message}`);
}

type CreateQrPayload = {
  api_version: string;
  data: {
    token: string;
    code: string;
    type: 'STATIC' | 'DYNAMIC';
    aggregator_merchant_id: string;
    created_at: string;
  };
};

const staticQrPayload: CreateQrPayload = await staticQrResponse.json();
console.log('Reusable QR code', staticQrPayload.data.code);
```

</CodeGroup>

  </Tab>
  <Tab title="Sample Response">

```json
{
  "api_version": "v1",
  "data": {
    "token": "qr_4076ad61-75cf-44a3-97a1-b66643ea3bf2",
    "aggregator_merchant_id": "am_be454a50-7612-4dc6-a97e-284ebbe7ae93",
    "type": "STATIC",
    "code": "000201010211...",
    "created_at": "2025-04-28T10:26:48Z"
  }
}
```

  </Tab>
</Tabs>

## Rendering tips

- Feed `data.code` to any QR generation library (`qrcode.react`, `qr-image`, etc.).
- Print the QR with usage instructions or embed it in digital invoices.
- Use [`GET /v1/aggregators/{{aggregator_id}}/qrs/{{qr_id}}/payments`](/api-reference#get-/v1/aggregators/-raast-aggregator-id-/qrs/-qr-id-/payments) to list transactions tied to this QR.
